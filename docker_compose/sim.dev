FROM adoptopenjdk:11-jre-hotspot
ENV SPRING_APPLICATION_NAME=mobile
ENV SERVER_PORT=80
ENV SPRING_DATASOURCE_URL=jdbc:postgresql://postgres_mobile:5432/postgres
ENV SPRING_DATASOURCE_USERNAME=postgres
ENV SPRING_DATASOURCE_PASSWORD=postgres
ENV EUREKA_CLIENT_REGISTER-WITH-EUREKA=true
ENV EUREKA_CLIENT_FETCH-REGISTRY=true
ENV EUREKA_CLIENT_SERVICE-URL_DEFAULT-ZONE=http://eureka/eureka/
ARG JAR_FILE=mobile-1.0-SNAPSHOT.jar
COPY ${JAR_FILE} mobile-1.0-SNAPSHOT.jar
ENTRYPOINT ["java", "-jar", "mobile-1.0-SNAPSHOT.jar"]
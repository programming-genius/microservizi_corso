FROM adoptopenjdk:11-jre-hotspot
ENV SPRING_APPLICATION_NAME=operator
ENV SERVER_PORT=80
ENV SPRING_JACKSON_DEFAULT-PROPERTY-INCLUSION=NON_NULL
ENV ANAGRAFICA_URL=http://anagrafica
ENV SIM_URL=http://mobile
ENV EUREKA_CLIENT_REGISTER-WITH-EUREKA=true
ENV EUREKA_CLIENT_FETCH-REGISTRY=true
ENV EUREKA_CLIENT_SERVICE-URL_DEFAULTZONE=http://eureka/eureka/
ARG JAR_FILE=operator-1.0-SNAPSHOT.jar
COPY ${JAR_FILE} operator-1.0-SNAPSHOT.jar
ENTRYPOINT ["java", "-jar", "operator-1.0-SNAPSHOT.jar"]
FROM adoptopenjdk:11-jre-hotspot
ENV SPRING_APPLICATION_NAME=eureka
ENV SERVER_PORT=80
ENV EUREKA_CLIENT_REGISTER-WITH-EUREKA=false
ENV EUREKA_CLIENT_FETCH-REGISTRY=false
ENV EUREKA_CLIENT_HEALTHCHECK_ENABLED=true
ENV EUREKA_INSTANCE_HOSTNAME=localhost
ENV EUREKA_CLIENT_SERVICE-URL_DEFAULTZONE=http://${EUREKA_INSTANCE_HOSTNAME}:${SERVER_PORT}/eureka/
EXPOSE ${SERVER_PORT}
ARG JAR_FILE=*.jar
COPY ${JAR_FILE} eureka-1.0-SNAPSHOT.jar
ENTRYPOINT ["java", "-jar", "eureka-1.0-SNAPSHOT.jar"]

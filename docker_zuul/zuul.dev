FROM adoptopenjdk:11-jre-hotspot
ENV SPRING_APPLICATION_NAME=zuul
ENV SERVER_PORT=80
ENV EUREKA_CLIENT_REGISTER-WITH-EUREKA=true
ENV EUREKA_CLIENT_FETCH-REGISTRY=true
ENV EUREKA_INSTANCE_HOSTNAME=eureka
ENV EUREKA_INSTANCE_PORT=80
ENV EUREKA_CLIENT_SERVICE-URL_DEFAULTZONE=http://${EUREKA_INSTANCE_HOSTNAME}:${EUREKA_INSTANCE_PORT}/eureka/
ENV ZUUL_SENSITIVEHEADERS=
ENV MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=*
ENV HYSTRIX_COMMAND_DEFAULT_EXECUTION_ISOLATION_THREAD_TIMEOUTINMILLISECONDS=10000
ENV RIBBON_CONNECTTIMEOUT=10000
ENV RIBBON_READTIMEOUT=10000
ARG JAR_FILE=*.jar
COPY ${JAR_FILE} zuul-1.0-SNAPSHOT.jar
ENTRYPOINT ["java", "-jar", "zuul-1.0-SNAPSHOT.jar"]
